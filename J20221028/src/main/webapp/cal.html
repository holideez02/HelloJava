<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Cal.html</title>
    <script>
        let obj = { //객체. 키:value
            id: 'hong',
            age: 20
        }
        obj = {} //new Object();
        let ary = [] // new Array();
        let today = new Date();

        let year = today.getFullYear(); //현재 년도를 반환.
        let month = today.getMonth(); //현재 월을 반환.

        document.addEventListener('DOMContentLoaded', function () {

            today = new Date();
            let thisDay = today.getDay(); //현재 요일.
            let firstDay = new Date(year, month, 1).getDay(); // 이번달의 1일 요일
            let lastDate = new Date(year, month + 1, 0).getDate(); //이번달의 마지막 날짜를 알려줌
            console.log(thisDay);
            let table = document.createElement('table');
            table.setAttribute('border', '1');

            let tbody = document.createElement('tbody');
            let tr = document.createElement('tr');
            tbody.append(tr); //tr이 만들어질때마다 tbody에 붙임

            //첫줄에 요일 띄워주기
            let dates = ['일', '월', '화', '수', '목', '금', '토'];
            dates.forEach(p => {
                let td = document.createElement('td');
                td.append(p); //<td>일</td>
                tr.append(td);//<tr><td>일</td></tr>
            })
            tr = document.createElement('tr');
            tbody.append(tr);
            
            //줄바꿈 색깔지정

            tbody.lastChild.setAttribute('style', 'color:blue');
            
            //요일 지정.
            for (let i = 0; i < firstDay; i++) {
                let td = document.createElement('td');
                tr.append(td); //이렇게 하면 요일 시작하는 날에 맞춰서 1을 찍음.
            }

            for (let i = 1; i <= lastDate; i++) {
                let td = document.createElement('td');
                td.textContent = i;
                tr.append(td);
                if ((i + firstDay) % 7 == 0) { //일주일단위로 끊고 새롭게 tr생성. 
                    tr = document.createElement('tr');
                    tbody.append(tr);
                    tbody.firstChild.setAttribute('style', 'color:red');
                }
            }
            table.append(tbody);
            tbody.append(tr);
            document.getElementById('show').append(table);

        })
    </script>
</head>

<body>
    <div id="show"></div>


</body>

</html>